clear
close all
%% SFL
sf50 = [0.227,0.159,0.198,0.131,0.168,0.159,0.047,0.162,0.2,0.108];
sf250 = [0.166,0.168,0.162,0.159,0.047,0.166,0.108,0.166,0.204,0.159];
sf350 = [0.108,0.215,0.148,0.078,0.082,0.166,0.162,0.159,0.166,0.148];
sf500 = [0.08,0.17,0.15,0.156,0.16,0.16,0.15,0.032,0.167,0.106];
sf1000 = [0.149,0.070,0.080,0.170,0.162,0.108,0.159,0.108,0.166,0.098];
sf1659 = [0.06,0.10,0.08,0.22,0.08,0.05,0.06,0.058,0.078,0.166];
sf_mean = [mean(sf50),mean(sf250),mean(sf350),mean(sf500),mean(sf1000),mean(sf1659)];
sf_std = [var(sf50),var(sf250),var(sf350),var(sf500),var(sf1000),var(sf1659)];
%% Original
o50 = [0.52,0.230,0.202,0.120,0.491,0.454,0.108,0.226,0.482,0.120];
o250 = [0.239,0.273,0.489,0.182,0.249,0.147,0.444,0.454,0.222,0.434];
o350 = [0.138,0.455,0.221,0.175,0.118,0.078,0.439,0.448,0.448,0.462];
o500 = [0.317,0.218,0.419,0.070,0.497,0.266,0.270,0.247,0.08,0.254];
o1000= [0.230,0.380,0.465,0.431,0.481,0.175,0.158,0.405,0.130,0.179];
o1659 = [0.162,0.246,0.455,0.232,0.152,0.423,0.239,0.285,0.317,0.250];
o_mean = [mean(o50),mean(o250),mean(o350),mean(o500),mean(o1000),mean(o1659)];
o_std = [var(o50),var(o250),var(o350),var(o500),var(o1000),var(o1659)];
%% SPARFA
%% sp50 = [0.269,0.128,0.074,0.311,0.071,0331,0.104,0.109,0.467,0.304];
% sp50 = [0.269,0.128,0.074,0.311,0.071,0331,0.104,0.109,0.467,0.304];
sp50 = [0.247,0.034,0.250,0.402,0.499,0.284,0.55,0.014,0.333,0.323];
% sp250 = [0.407,0.014,0.478,0.483,0.016,0.142,0.091,0.384,0.387,0.405];
sp250 = [0.102,0.169,0.396,0.474,0.015,0.131,0.484,0.367,0.459,0.477];
sp350 = [0.156,0.484,0.143,0.410,0.369,0.077,0.156,0.325,0.398,0.410];
sp500 = [0.34,0.416,0.481,0.057,0.036,0.430,0.412,0.050,0.341,0.053];
sp1000 = [0.08,0.135,0.439,0.32,0.031,0.023,0.130,0.210,0.333,0.123];
sp1659 = [0.01,0.17,0.034,0.350,0.01,0.01,0.217,0.12,0.071,0.008];
sp_mean = [mean(sp50),mean(sp250),mean(sp350),mean(sp500),mean(sp1000),mean(sp1659)];
sp_std = [var(sp50),var(sp250),var(sp350),var(sp500),var(sp1000),var(sp1659)];

%% BOBCS
b50 = [0.832,0.487,0.684,0.588,0.409,0.478,0.402,0.821,0.446,0.443];
b250 = [0.501,0.502,0.571,0.528,0.302,0.238,0.465,0.269,0.489,0.559];
b350 = [0.617,0.441,0.6,0.677,0.338,0.338,0.556,0.382,0.646,0.75];
b500 = [0.389,0.439,0.402,0.664,0.543,0.545,0.616,0.425,0.552,0.448];
b1000= [0.655,0.498,0.542,0.198,0.489,0.378,0.511,0.638,0.573,0.443];
b1659 = [0.562,0.47,0.378,0.726,0.618,0.656,0.356,0.517,0.455,0.604];
b_mean = [mean(b50),mean(b250),mean(b350),mean(b500),mean(b1000),mean(b1659)];
b_std = [var(b50),var(b250),var(b350),var(b500),var(b1000),var(b1659)];
%% figure
time = [50,250,350,500,1000,1659];
errorbar(time,sf_mean,sf_std,'-r*','LineWidth',2)
hold on
errorbar(time,o_mean,o_std,'-gx','LineWidth',2)
hold on
errorbar(time,sp_mean,sp_std,'-bo','LineWidth',2)
hold on 
errorbar(time,b_mean,b_std,'-m<','LineWidth',2)
% axis([50,1659,0,0.5])
set(gca, 'XTick',[50,250,350,500,1000,1659])
xlabel('Number of Samples');
ylabel('Error rate(%)');
legend('MetaDL','Original', 'SPARFA','BOBCS','Location' , 'northeast');
